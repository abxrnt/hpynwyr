<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goodbye 2025 ‚Ä¢ Welcome 2026</title>

    <link
        href="https://fonts.googleapis.com/css2?family=Pacifico&family=Dancing+Script:wght@500;700&family=Noto+Serif+Bengali:wght@600;700&family=Great+Vibes&family=Poppins:wght@500;600&display=swap"
        rel="stylesheet">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            color: #fff;
            font-family: 'Pacifico', cursive;
        }

        .bg-video {
            position: fixed;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -3
        }

        .overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, .65);
            z-index: -2
        }

        .layout {
            height: 100vh;
            max-width: 1600px;
            margin: auto;
            padding: 16px 28px;
            display: grid;
            grid-template-rows: auto 1fr;
            gap: 12px;
        }

        .top-wish {
            text-align: center;
            font-size: 1.6rem;
            opacity: .95;
        }

        .name-highlight {
            color: #ffd166;
            text-shadow: 0 0 18px rgba(255, 180, 0, .9);
            font-weight: 700;
        }

        .columns {
            display: grid;
            grid-template-columns: 1fr;
            align-items: center;
        }

        @media(min-width:900px) {
            .columns { grid-template-columns: 1fr 1.1fr 1fr; gap: 24px; }
            .en { order: 1 }
            .center { order: 2 }
            .as { order: 3 }
        }

        @media(max-width:899px) {
            .en { order: 1 }
            .as { order: 2 }
            .center { order: 3 }
            .top-wish { font-size: 1.4rem }
        }

        .col {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 6px;
        }

        .en .bye { font-size: 1.25rem; opacity: .9 }
        .en .title { font-size: 2.2rem }
        .en .quote {
            font-family: 'Poppins', sans-serif;
            font-size: .95rem;
            font-style: italic;
            opacity: .85;
            max-width: 420px;
        }
        .en .year {
            font-family: 'Great Vibes', cursive;
            font-size: 5.1rem;
            color: #ffd166;
            text-shadow: 0 0 35px rgba(255, 180, 0, .8);
        }

        .as { font-family: 'Noto Serif Bengali', serif; }
        .as .bye { font-size: 1.1rem; opacity: .9 }
        .as .title {
            font-size: 2.9rem;
            background: linear-gradient(90deg, #ffe8b0, #ffd166, #fff3d6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .as .quote {
            font-size: .95rem;
            font-style: italic;
            opacity: .85;
            max-width: 420px;
        }
        .as .year { font-size: 3.8rem; color: #ffd166; }

        .center { gap: 14px }

        .countdown { display: flex; gap: 10px; }
        .time-box {
            width: 70px;
            padding: 10px;
            background: rgba(0, 0, 0, .6);
            border-radius: 14px;
        }
        .time-box span { font-size: 1.3rem; color: #ffd166; }
        .time-box small {
            font-family: 'Noto Serif Bengali', serif;
            font-size: .65rem;
        }

        .input-wrap {
            width: 100%;
            max-width: 320px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        input {
            padding: 12px;
            border-radius: 38px;
            border: none;
            background: rgba(0, 0, 0, .65);
            color: #fff;
            text-align: center;
            font-family: 'Dancing Script', cursive;
            font-size: 1rem;
        }

        button {
            padding: 14px;
            border-radius: 38px;
            border: none;
            background: linear-gradient(45deg, #ffd166, #ff8c00);
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            cursor: pointer;
        }

        .link {
            font-size: .75rem;
            padding: 8px;
            background: rgba(0, 0, 0, .6);
            border-radius: 11px;
            word-break: break-all;
        }
        /* Hide English & Assamese quotes on mobile */
@media (max-width: 600px) {
    .en .quote,
    .as .quote {
        display: none;
    }
}

    </style>
</head>

<body>

    <video class="bg-video" autoplay muted loop playsinline>
        <source src="bg.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>

    <main class="layout">
        <div id="topWish" class="top-wish"></div>

        <div class="columns">

            <section class="col en">
                <div class="bye">Goodbye 2025, thanks for everything</div>
                <div class="title">Happy New Year</div>
                <div class="quote">
                    ‚ÄúAs the new year begins, may you learn from the past without living in it,
                    dream of the future without fearing it, and work in the present without excuses.‚Äù
                </div>
                <div class="year">2026</div>
            </section>

            <section class="col center">
                <div class="countdown">
                    <div class="time-box"><span id="d">00</span><small>‡¶¶‡¶ø‡¶®</small></div>
                    <div class="time-box"><span id="h">00</span><small>‡¶ò‡¶£‡ßç‡¶ü‡¶æ</small></div>
                    <div class="time-box"><span id="m">00</span><small>‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</small></div>
                    <div class="time-box"><span id="s">00</span><small>‡¶õ‡ßá‡¶ï‡ßá‡¶£‡ßç‡¶°</small></div>
                </div>

                <div class="input-wrap">
                    <input id="nameInput" placeholder="Enter your name / ‡¶Ü‡¶™‡ßã‡¶®‡¶æ‡ß∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡¶ï">
                    <button onclick="generate()">Create Your Link ‚ú®</button>
                </div>

                <div id="result" class="link"></div>
            </section>

            <section class="col as">
                <div class="bye">‡¶¨‡¶ø‡¶¶‡¶æ‡¶Ø‡¶º ‡ß®‡ß¶‡ß®‡ß´, ‡¶∏‡¶ï‡¶≤‡ßã ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ‡ß∞ ‡¶¨‡¶æ‡¶¨‡ßá ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶</div>
                <div class="title">‡¶®‡ß± ‡¶¨‡ß∞‡ßç‡¶∑‡ß∞ ‡¶∂‡ßÅ‡¶≠‡ßá‡¶ö‡ßç‡¶õ‡¶æ</div>
                <div class="quote">
                    ‚Äú‡¶è‡¶á ‡¶¨‡¶õ‡ß∞‡ßá ‡¶Ü‡¶™‡ßã‡¶®‡¶æ‡ß∞ ‡¶ï‡¶∑‡ßç‡¶ü‡¶ï ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡ß∞‡¶ï, ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶ï ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶§ ‡¶™‡ß∞‡¶ø‡¶£‡¶§ ‡¶ï‡ß∞‡¶ï,
                    ‡¶Ü‡ß∞‡ßÅ ‡¶∏‡ßá‡¶á ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡ß∞‡ßá ‡¶ó‡ßå‡ß∞‡ß± ‡¶ï‡ß∞‡¶ø‡¶¨ ‡¶™‡ß∞‡¶æ ‡¶ú‡ßÄ‡ß±‡¶® ‡¶ó‡¶¢‡¶º‡¶ø ‡¶§‡ßÅ‡¶≤‡¶ï‡•§‚Äù
                </div>
                <div class="year">‡ß®‡ß¶‡ß®‡ß¨</div>
            </section>

        </div>
    </main>

    <script type="module">
        import { collection, addDoc, getDoc, doc, serverTimestamp } 
        from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { db } from "./firebase.js";

        const topWish = document.getElementById("topWish");
        const params = new URLSearchParams(location.search);
        const id = params.get("id");

        let viewingSharedWish = false;

        if (id) {
            viewingSharedWish = true;
            const snap = await getDoc(doc(db, "wishes", id));
            if (snap.exists()) {
                topWish.innerHTML =
                    `<span class="name-highlight">${snap.data().senderName}</span> wishes you a Happy New Year üéâ`;
            }
        }

        window.generate = async () => {
            const name = nameInput.value.trim();
            if (!name) return alert("Enter your name");

            const ref = await addDoc(collection(db, "wishes"), {
                senderName: name,
                createdAt: serverTimestamp()
            });

            const link = `${location.origin}${location.pathname}?id=${ref.id}`;
            result.innerText = link;

            if (!viewingSharedWish) {
                topWish.innerHTML =
                    `<span class="name-highlight">${name}</span> wishes you a Happy New Year üéâ`;
            }
        };
    </script>

    <script>
        const target = new Date("Jan 1, 2026 00:00:00").getTime();
        setInterval(() => {
            const diff = target - Date.now();
            if (diff <= 0) return;
            d.textContent = Math.floor(diff / 86400000);
            h.textContent = Math.floor((diff / 3600000) % 24);
            m.textContent = Math.floor((diff / 60000) % 60);
            s.textContent = Math.floor((diff / 1000) % 60);
        }, 1000);
    </script>
</body>

</html>
