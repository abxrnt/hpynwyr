<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Goodbye 2025 ‚Ä¢ Welcome 2026</title>

  <link
    href="https://fonts.googleapis.com/css2?family=Pacifico&family=Dancing+Script:wght@500;700&family=Noto+Serif+Bengali:wght@600;700&family=Great+Vibes&family=Poppins:wght@500;600&display=swap"
    rel="stylesheet">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      color: #fff;
      font-family: 'Pacifico', cursive;
      font-size: clamp(12px, 3.2vw, 16px);
    }

    .bg-video {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -3;
    }

    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .65);
      z-index: -2;
    }

    .layout {
      height: 100vh;
      max-width: 1600px;
      margin: auto;
      padding: 2vh 4vw;
      display: grid;
      grid-template-rows: auto 1fr;
      gap: 1.5vh;
    }

    .top-wish {
      text-align: center;
      font-size: clamp(1rem, 4vw, 1.6rem);
      line-height: 1.2;
    }

    .name-highlight {
      color: #ffd166;
      text-shadow: 0 0 1.2em rgba(255, 180, 0, .9);
      font-weight: 700;
    }

    .columns {
      display: grid;
      grid-template-columns: 1fr;
      align-items: center;
      gap: 2vh;
    }

    .col {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: .8vh;
    }

    .en .bye {
      font-size: clamp(.85rem, 3vw, 1.25rem);
      opacity: .9;
    }

    .en .title {
      font-size: clamp(1.4rem, 5vw, 2.2rem);
    }

    .en .quote {
      font-family: 'Poppins', sans-serif;
      font-size: clamp(.75rem, 2.8vw, .95rem);
      font-style: italic;
      opacity: .85;
      max-width: 90%;
      line-height: 1.4;
    }

    .en .year {
      font-family: 'Great Vibes', cursive;
      font-size: clamp(2.8rem, 10vw, 5.1rem);
      color: #ffd166;
      text-shadow: 0 0 2.2em rgba(255, 180, 0, .8);
    }

    .as {
      font-family: 'Noto Serif Bengali', serif;
    }

    .as .bye {
      font-size: clamp(.8rem, 3vw, 1.1rem);
      opacity: .9;
    }

    .as .title {
      font-size: clamp(1.6rem, 6vw, 2.9rem);
      background: linear-gradient(90deg, #ffe8b0, #ffd166, #fff3d6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .as .quote {
      font-size: clamp(.75rem, 2.8vw, .95rem);
      font-style: italic;
      opacity: .85;
      max-width: 90%;
      line-height: 1.4;
    }

    .as .year {
      font-size: clamp(2.2rem, 8vw, 3.8rem);
      color: #ffd166;
    }

    .center {
      gap: 1.2vh;
    }

    .countdown {
      display: flex;
      gap: 2vw;
      justify-content: center;
    }

    .time-box {
      width: clamp(3.2rem, 12vw, 4.4rem);
      padding: .6em .3em;
      background: rgba(0, 0, 0, .6);
      border-radius: 1em;
    }

    .time-box span {
      font-size: clamp(1rem, 4vw, 1.3rem);
      color: #ffd166;
    }

    .time-box small {
      font-family: 'Noto Serif Bengali', serif;
      font-size: clamp(.55rem, 2.2vw, .65rem);
    }

    .input-wrap {
      width: 100%;
      max-width: 80%;
      display: flex;
      flex-direction: column;
      gap: 1vh;
    }

    input {
  padding: 0.9em 1em;
  border-radius: 1.6em;
  border: none;
  background: rgba(0, 0, 0, 0.842);
  color: #ffffff;
  text-align: center;

  /* ‚úÖ Modern, readable font */
  font-family: 'Poppins', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  font-weight: 500;

  /* ‚úÖ Slightly larger + clearer */
  font-size: clamp(0.95rem, 3.6vw, 1.1rem);

  outline: none;
}


    button {
      padding: .9em;
      border-radius: 2em;
      border: none;
      background: linear-gradient(45deg, #ffd166, #ff8c00);
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      font-size: clamp(.85rem, 3.2vw, 1rem);
      cursor: pointer;
    }

    .link {
      font-size: clamp(.65rem, 2.5vw, .8rem);
      padding: .7em;
      background: rgba(0, 0, 0, .65);
      border-radius: 1em;
      word-break: break-all;
      max-width: 95%;
    }

    @media (min-width: 900px) {
      .columns {
        grid-template-columns: 1fr 1.1fr 1fr;
      }
    }
    @media (max-width: 768px) {
  .as {
    padding-bottom: 20vh;
  }
  .en .bye {
      font-size: clamp(1rem, 4vw, 1.5rem);
      opacity: .9;
    }

    .en .title {
      font-size: clamp(1.6rem, 6vw, 2.8rem);
    }

    .en .quote {
      font-family: 'Poppins', sans-serif;
      font-size: clamp(1rem, 2.8vw, 1.5rem);
      font-style: italic;
      opacity: .85;
      max-width: 90%;
      line-height: 1.4;
    }

    .en .year {
      font-family: 'Great Vibes', cursive;
      font-size: clamp(5rem, 10vw, 5.1rem);
      color: #ffd166;
      text-shadow: 0 0 2.2em rgba(255, 180, 0, .8);
    }

    .as {
      font-family: 'Noto Serif Bengali', serif;
    }

    .as .bye {
      font-size: clamp(.8rem, 3vw, 1.1rem);
      opacity: .9;
    }

    .as .title {
      font-size: clamp(2.5rem, 6vw, 3rem);
      background: linear-gradient(90deg, #ffe8b0, #ffd166, #fff3d6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .as .quote {
      font-size: clamp(1.2rem, 2.8vw, 1.5rem);
      font-style: italic;
      opacity: .85;
      max-width: 90%;
      line-height: 1.4;
    }

    .as .year {
      font-size: clamp(3rem, 8vw, 4rem);
      color: #ffd166;
    }
}

  </style>
</head>

<body>

  <video class="bg-video" autoplay muted loop playsinline>
    <source src="bg.mp4" type="video/mp4">
  </video>
  <div class="overlay"></div>

  <main class="layout">
    <div id="topWish" class="top-wish"></div>

    <div class="columns">

      <section class="col en">
        <div class="bye">Goodbye 2025, thanks for everything</div>
        <div class="title">Happy New Year</div>
        <div class="quote">
          ‚ÄúAs the new year begins, may you learn from the past without living in it,
          dream of the future without fearing it, and work in the present without excuses.‚Äù
        </div>
        <div class="year">2026</div>
      </section>

      <section class="col center">
        <div class="countdown">
          <div class="time-box"><span id="d">00</span><small>‡¶¶‡¶ø‡¶®</small></div>
          <div class="time-box"><span id="h">00</span><small>‡¶ò‡¶£‡ßç‡¶ü‡¶æ</small></div>
          <div class="time-box"><span id="m">00</span><small>‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</small></div>
          <div class="time-box"><span id="s">00</span><small>‡¶õ‡ßá‡¶ï‡ßá‡¶£‡ßç‡¶°</small></div>
        </div>

        <div class="input-wrap">
          <input id="nameInput" placeholder="Enter your name / ‡¶Ü‡¶™‡ßã‡¶®‡¶æ‡ß∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡¶ï">
          <button onclick="generate()">Create Your Link ‚ú®</button>
        </div>

        <div id="result" class="link"></div>
      </section>

      <section class="col as">
        <div class="bye">‡¶¨‡¶ø‡¶¶‡¶æ‡¶Ø‡¶º ‡ß®‡ß¶‡ß®‡ß´, ‡¶∏‡¶ï‡¶≤‡ßã ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ‡ß∞ ‡¶¨‡¶æ‡¶¨‡ßá ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶</div>
        <div class="title">‡¶®‡ß± ‡¶¨‡ß∞‡ßç‡¶∑‡ß∞ ‡¶∂‡ßÅ‡¶≠‡ßá‡¶ö‡ßç‡¶õ‡¶æ</div>
        <div class="quote">
          ‚Äú‡¶´‡¶≤‡¶§‡¶æ‡ß∞‡ßá ‡¶≠‡ß∞‡¶ø ‡¶™‡ß∞‡¶ï ‡¶Ü‡¶™‡ßã‡¶®‡¶æ‡ß∞ ‡¶ú‡ßÄ‡ß±‡¶®‡•§ ‡¶§‡¶æ‡ß∞‡ßá ‡¶ï‡¶æ‡¶Æ‡¶®‡¶æ‡ß∞‡ßá ‡¶®‡¶¨‡¶¨‡ß∞‡ßç‡¶∑‡ß∞ ‡¶π‡¶ø‡¶Ø‡¶º‡¶æ ‡¶≠‡ß∞‡¶æ ‡¶∂‡ßÅ‡¶≠‡ßá‡¶ö‡ßç‡¶õ‡¶æ ‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶ï‡ß∞‡¶ø‡¶≤‡ßã‡¶Å‡•§ ‡¶Ø‡¶æ‡¶§‡ßá ‡ßß‡ß® ‡¶Æ‡¶æ‡¶π ‡¶Ü‡¶®‡¶®‡ßç‡¶¶‡ß∞‡ßá, ‡ß´‡ß® ‡¶∏‡¶™‡ßç‡¶§‡¶æ‡¶π ‡¶∏‡ßÅ‡¶ñ‡ßá‡ß∞‡ßá, ‡ß©‡ß¨‡ß´ ‡¶¶‡¶ø‡¶® ‡¶∏‡¶´‡¶≤‡¶§‡¶æ‡ß∞‡ßá, ‡ßÆ‡ß≠‡ß¨‡ß¶ ‡¶ò‡¶£‡ßç‡¶ü‡¶æ ‡¶∏‡ßÅ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡ß∞‡ßá, ‡¶Ü‡ß∞‡ßÅ ‡ß´‡ß®‚Äù
        </div>
        <div class="year">‡ß®‡ß¶‡ß®‡ß¨</div>
      </section>

    </div>
  </main>

<script type="module">
  import { collection, addDoc, getDoc, doc, serverTimestamp }
    from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { db } from "./firebase.js";

  const topWish = document.getElementById("topWish");
  const nameInput = document.getElementById("nameInput");
  const result = document.getElementById("result");
  const createBtn = document.querySelector(".input-wrap button");

  const params = new URLSearchParams(location.search);
  const id = params.get("id");

  let viewingSharedWish = false;
  let generatedLink = "";

  if (id) {
    viewingSharedWish = true;
    const snap = await getDoc(doc(db, "wishes", id));
    if (snap.exists()) {
      topWish.innerHTML =
        `<span class="name-highlight">${snap.data().senderName}</span> wishes you a Happy New Year üéâ`;
    }
  }

  window.generate = async () => {
    // üëâ If link already generated ‚Üí SHARE
    if (generatedLink) {
      if (navigator.share) {
        navigator.share({
          title: "Happy New Year 2026 üéâ",
          text: "Check out my New Year wish ‚ú®",
          url: generatedLink
        });
      } else {
        navigator.clipboard.writeText(generatedLink);
        alert("Link copied!");
      }
      return;
    }

    // üëâ First time: CREATE LINK
    const name = nameInput.value.trim();
    if (!name) return alert("Enter your name");

    const ref = await addDoc(collection(db, "wishes"), {
      senderName: name,
      createdAt: serverTimestamp()
    });

    generatedLink = `${location.origin}${location.pathname}?id=${ref.id}`;

    // change input ‚Üí link field
    nameInput.value = generatedLink;
    nameInput.readOnly = true;

    // change button text
    createBtn.textContent = "Share ‚ú®";

    // show link below (keeping your existing div)
    result.innerText = generatedLink;

    if (!viewingSharedWish) {
      topWish.innerHTML =
        `<span class="name-highlight">${name}</span> wishes you a Happy New Year üéâ`;
    }
  };
</script>


  <script>
    const target = new Date("Jan 1, 2026 00:00:00").getTime();
    setInterval(() => {
      const diff = target - Date.now();
      if (diff <= 0) return;
      d.textContent = Math.floor(diff / 86400000);
      h.textContent = Math.floor((diff / 3600000) % 24);
      m.textContent = Math.floor((diff / 60000) % 60);
      s.textContent = Math.floor((diff / 1000) % 60);
    }, 1000);
  </script>

</body>

</html>
